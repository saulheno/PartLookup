(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function z(){}function ae(e){return e()}function V(){return Object.create(null)}function M(e){e.forEach(ae)}function ce(e){return typeof e=="function"}function de(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let U;function W(e,t){return U||(U=document.createElement("a")),U.href=t,e===U.href}function pe(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function S(e,t,l){e.insertBefore(t,l||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function J(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function h(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function v(){return P(" ")}function se(){return P("")}function X(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function E(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function he(e){return Array.from(e.childNodes)}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Y(e,t){e.value=t??""}let G;function D(e){G=e}const C=[],Z=[];let q=[];const x=[],_e=Promise.resolve();let K=!1;function me(){K||(K=!0,_e.then(ue))}function Q(e){q.push(e)}const F=new Set;let I=0;function ue(){if(I!==0)return;const e=G;do{try{for(;I<C.length;){const t=C[I];I++,D(t),ge(t.$$)}}catch(t){throw C.length=0,I=0,t}for(D(null),C.length=0,I=0;Z.length;)Z.pop()();for(let t=0;t<q.length;t+=1){const l=q[t];F.has(l)||(F.add(l),l())}q.length=0}while(C.length);for(;x.length;)x.pop()();K=!1,F.clear(),D(e)}function ge(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function be(e){const t=[],l=[];q.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),q=t}const ye=new Set;function ke(e,t){e&&e.i&&(ye.delete(e),e.i(t))}function $e(e,t,l,n){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,l),n||Q(()=>{const i=e.$$.on_mount.map(ae).filter(ce);e.$$.on_destroy?e.$$.on_destroy.push(...i):M(i),e.$$.on_mount=[]}),r.forEach(Q)}function ve(e,t){const l=e.$$;l.fragment!==null&&(be(l.after_update),M(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function we(e,t){e.$$.dirty[0]===-1&&(C.push(e),me(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(e,t,l,n,o,r,i,u=[-1]){const k=G;D(e);const p=e.$$={fragment:null,ctx:[],props:r,update:z,not_equal:o,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(k?k.$$.context:[])),callbacks:V(),dirty:u,skip_bound:!1,root:t.target||k.$$.root};i&&i(p.root);let b=!1;if(p.ctx=l?l(e,t.props||{},(g,w,...$)=>{const m=$.length?$[0]:w;return p.ctx&&o(p.ctx[g],p.ctx[g]=m)&&(!p.skip_bound&&p.bound[g]&&p.bound[g](m),b&&we(e,g)),w}):[],p.update(),b=!0,M(p.before_update),p.fragment=n?n(p.ctx):!1,t.target){if(t.hydrate){const g=he(t.target);p.fragment&&p.fragment.l(g),g.forEach(L)}else p.fragment&&p.fragment.c();t.intro&&ke(e.$$.fragment),$e(e,t.target,t.anchor,t.customElement),ue()}D(k)}class Ne{$destroy(){ve(this,1),this.$destroy=z}$on(t,l){if(!ce(l))return z;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function Pe(e){const t="PartLookup",l="99NB",n=await fetch("https://realm.mongodb.com/api/client/v2.0/app/data-zkogu/auth/providers/anon-user/login",{method:"POST"});console.log(n);const o=await n.json();console.log(o);const r="Bearer "+o.access_token,u=await(await fetch("https://eu-west-1.aws.data.mongodb-api.com/app/data-zkogu/endpoint/data/v1/action/findOne",{method:"POST",headers:{Authorization:r,"Content-Type":"application/json","Access-Control-Request-Headers":"*"},body:JSON.stringify({collection:l,database:t,dataSource:l,filter:{id:e}})})).json();return console.log(u),u.document.parts}const Ee="https://storage.googleapis.com/part_diagrams/99NB";async function je(e){const t=e.concat(".jpg");return Ee.concat("/",t)}function ee(e,t,l){const n=e.slice();return n[2]=t[l],n}function te(e,t,l){const n=e.slice();return n[7]=t[l],n}function ne(e,t,l){const n=e.slice();return n[10]=t[l],n}function Le(e){let t,l,n;return{c(){t=h("p"),l=P("No parts found for ID "),n=P(e[2])},m(o,r){S(o,t,r),f(t,l),f(t,n)},p(o,r){r&4&&A(n,o[2])},d(o){o&&L(t)}}}function Se(e){let t,l,n,o,r,i,u,k,p,b,g,w,$,m=Object.keys(e[0]),s=[];for(let a=0;a<m.length;a+=1)s[a]=fe(ee(e,m,a));return{c(){t=h("div"),l=h("h2"),n=P(e[2]),o=v(),r=h("div"),i=h("img"),k=v(),p=h("div"),b=h("table"),g=h("thead"),g.innerHTML=`<tr><th>ID</th> 
            <th>Part Number</th> 
            <th>Part Name</th> 
            <th>Qty</th> 
            <th>Ex Info</th></tr>`,w=v(),$=h("tbody");for(let a=0;a<s.length;a+=1)s[a].c();W(i.src,u=e[1])||E(i,"src",u),E(i,"alt",e[2]),E(r,"class","image-container"),E(b,"id","main"),E(p,"class","table-container"),E(t,"class","container")},m(a,y){S(a,t,y),f(t,l),f(l,n),f(t,o),f(t,r),f(r,i),f(t,k),f(t,p),f(p,b),f(b,g),f(b,w),f(b,$);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m($,null)},p(a,y){if(y&4&&A(n,a[2]),y&2&&!W(i.src,u=a[1])&&E(i,"src",u),y&4&&E(i,"alt",a[2]),y&1){m=Object.keys(a[0]);let _;for(_=0;_<m.length;_+=1){const B=ee(a,m,_);s[_]?s[_].p(B,y):(s[_]=fe(B),s[_].c(),s[_].m($,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=m.length}},d(a){a&&L(t),J(s,a)}}}function le(e){let t,l,n=(e[0][e[2]][e[10]]||"-")+"",o,r;return{c(){t=h("tr"),l=h("td"),o=P(n),r=v()},m(i,u){S(i,t,u),f(t,l),f(l,o),f(t,r)},p(i,u){u&1&&n!==(n=(i[0][i[2]][i[10]]||"-")+"")&&A(o,n)},d(i){i&&L(t)}}}function oe(e){let t=e[0][e[2]].hasOwnProperty(e[10]),l,n=t&&le(e);return{c(){n&&n.c(),l=se()},m(o,r){n&&n.m(o,r),S(o,l,r)},p(o,r){r&1&&(t=o[0][o[2]].hasOwnProperty(o[10])),t?n?n.p(o,r):(n=le(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(o){n&&n.d(o),o&&L(l)}}}function re(e){let t,l,n=(e[0][e[2]][e[7]]||"-")+"",o,r;return{c(){t=h("tr"),l=h("td"),o=P(n),r=v()},m(i,u){S(i,t,u),f(t,l),f(l,o),f(t,r)},p(i,u){u&1&&n!==(n=(i[0][i[2]][i[7]]||"-")+"")&&A(o,n)},d(i){i&&L(t)}}}function ie(e){let t=e[0][e[2]].hasOwnProperty(e[7]),l,n=t&&re(e);return{c(){n&&n.c(),l=se()},m(o,r){n&&n.m(o,r),S(o,l,r)},p(o,r){r&1&&(t=o[0][o[2]].hasOwnProperty(o[7])),t?n?n.p(o,r):(n=re(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(o){n&&n.d(o),o&&L(l)}}}function fe(e){let t,l,n=e[2]+"",o,r,i,u,k,p,b=(e[0][e[2]].partname||"-")+"",g,w,$,m=(e[0][e[2]].qty||"-")+"",s,a,y,_,B,H=["partno","partno2","partno3","partno4","partno5"],O=[];for(let d=0;d<5;d+=1)O[d]=oe(ne(e,H,d));let R=["exinfo","exinfo2","exinfo3","exinfo4","exinfo5"],N=[];for(let d=0;d<5;d+=1)N[d]=ie(te(e,R,d));return{c(){t=h("tr"),l=h("td"),o=P(n),r=v(),i=h("td"),u=h("table");for(let d=0;d<5;d+=1)O[d].c();k=v(),p=h("td"),g=P(b),w=v(),$=h("td"),s=P(m),a=v(),y=h("td"),_=h("table");for(let d=0;d<5;d+=1)N[d].c();B=v()},m(d,j){S(d,t,j),f(t,l),f(l,o),f(t,r),f(t,i),f(i,u);for(let c=0;c<5;c+=1)O[c]&&O[c].m(u,null);f(t,k),f(t,p),f(p,g),f(t,w),f(t,$),f($,s),f(t,a),f(t,y),f(y,_);for(let c=0;c<5;c+=1)N[c]&&N[c].m(_,null);f(t,B)},p(d,j){if(j&1&&n!==(n=d[2]+"")&&A(o,n),j&1){H=["partno","partno2","partno3","partno4","partno5"];let c;for(c=0;c<5;c+=1){const T=ne(d,H,c);O[c]?O[c].p(T,j):(O[c]=oe(T),O[c].c(),O[c].m(u,null))}for(;c<5;c+=1)O[c].d(1)}if(j&1&&b!==(b=(d[0][d[2]].partname||"-")+"")&&A(g,b),j&1&&m!==(m=(d[0][d[2]].qty||"-")+"")&&A(s,m),j&1){R=["exinfo","exinfo2","exinfo3","exinfo4","exinfo5"];let c;for(c=0;c<5;c+=1){const T=te(d,R,c);N[c]?N[c].p(T,j):(N[c]=ie(T),N[c].c(),N[c].m(_,null))}for(;c<5;c+=1)N[c].d(1)}},d(d){d&&L(t),J(O,d),J(N,d)}}}function Ae(e){let t,l,n,o,r,i,u,k,p,b,g,w;function $(a,y){if(a[0])return Se;if(a[2])return Le}let m=$(e),s=m&&m(e);return{c(){t=h("main"),l=h("h1"),l.textContent="Part Lookup",n=v(),o=h("form"),r=h("label"),i=P(`ID:
      `),u=h("input"),k=v(),p=h("button"),p.textContent="Search",b=v(),s&&s.c(),E(u,"type","text"),E(p,"type","submit")},m(a,y){S(a,t,y),f(t,l),f(t,n),f(t,o),f(o,r),f(r,i),f(r,u),Y(u,e[2]),f(o,k),f(o,p),f(t,b),s&&s.m(t,null),g||(w=[X(u,"input",e[4]),X(o,"submit",e[3])],g=!0)},p(a,[y]){y&4&&u.value!==a[2]&&Y(u,a[2]),m===(m=$(a))&&s?s.p(a,y):(s&&s.d(1),s=m&&m(a),s&&(s.c(),s.m(t,null)))},i:z,o:z,d(a){a&&L(t),s&&s.d(),g=!1,M(w)}}}function Ie(e,t,l){let n="",o=null,r="";async function i(k){k.preventDefault(),l(0,o=await Pe(n)),l(1,r=await je(n))}function u(){n=this.value,l(2,n)}return[o,r,n,i,u]}class Ce extends Ne{constructor(t){super(),Oe(this,t,Ie,Ae,de,{})}}new Ce({target:document.getElementById("app")});
