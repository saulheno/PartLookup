(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function T(){}function ce(e){return e()}function V(){return Object.create(null)}function D(e){e.forEach(ce)}function ue(e){return typeof e=="function"}function de(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let M;function W(e,t){return M||(M=document.createElement("a")),M.href=t,e===M.href}function pe(e){return Object.keys(e).length===0}function u(e,t){e.appendChild(t)}function v(e,t,l){e.insertBefore(t,l||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function F(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function m(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function w(){return P(" ")}function ae(){return P("")}function X(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function L(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function _e(e){return Array.from(e.childNodes)}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Y(e,t){e.value=t??""}let Q;function B(e){Q=e}const I=[],Z=[];let C=[];const x=[],he=Promise.resolve();let J=!1;function me(){J||(J=!0,he.then(se))}function K(e){C.push(e)}const R=new Set;let A=0;function se(){if(A!==0)return;const e=Q;do{try{for(;A<I.length;){const t=I[A];A++,B(t),be(t.$$)}}catch(t){throw I.length=0,A=0,t}for(B(null),I.length=0,A=0;Z.length;)Z.pop()();for(let t=0;t<C.length;t+=1){const l=C[t];R.has(l)||(R.add(l),l())}C.length=0}while(I.length);for(;x.length;)x.pop()();J=!1,R.clear(),B(e)}function be(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function ge(e){const t=[],l=[];C.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),C=t}const ye=new Set;function ke(e,t){e&&e.i&&(ye.delete(e),e.i(t))}function $e(e,t,l,n){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,l),n||K(()=>{const i=e.$$.on_mount.map(ce).filter(ue);e.$$.on_destroy?e.$$.on_destroy.push(...i):D(i),e.$$.on_mount=[]}),r.forEach(K)}function we(e,t){const l=e.$$;l.fragment!==null&&(ge(l.after_update),D(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function ve(e,t){e.$$.dirty[0]===-1&&(I.push(e),me(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(e,t,l,n,o,r,i,a=[-1]){const y=Q;B(e);const p=e.$$={fragment:null,ctx:[],props:r,update:T,not_equal:o,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(y?y.$$.context:[])),callbacks:V(),dirty:a,skip_bound:!1,root:t.target||y.$$.root};i&&i(p.root);let k=!1;if(p.ctx=l?l(e,t.props||{},(b,h,...f)=>{const _=f.length?f[0]:h;return p.ctx&&o(p.ctx[b],p.ctx[b]=_)&&(!p.skip_bound&&p.bound[b]&&p.bound[b](_),k&&ve(e,b)),h}):[],p.update(),k=!0,D(p.before_update),p.fragment=n?n(p.ctx):!1,t.target){if(t.hydrate){const b=_e(t.target);p.fragment&&p.fragment.l(b),b.forEach($)}else p.fragment&&p.fragment.c();t.intro&&ke(e.$$.fragment),$e(e,t.target,t.anchor,t.customElement),se()}B(y)}class Ne{$destroy(){we(this,1),this.$destroy=T}$on(t,l){if(!ue(l))return T;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function Pe(e){const t="PartLookup",l="99NB",n=await fetch("https://realm.mongodb.com/api/client/v2.0/app/data-zkogu/auth/providers/anon-user/login",{method:"POST"});console.log(n);const o=await n.json();console.log(o);const r="Bearer "+o.access_token,a=await(await fetch("https://eu-west-1.aws.data.mongodb-api.com/app/data-zkogu/endpoint/data/v1/action/findOne",{method:"POST",headers:{Authorization:r,"Content-Type":"application/json","Access-Control-Request-Headers":"*"},body:JSON.stringify({collection:l,database:t,dataSource:l,filter:{id:e}})})).json();return console.log(a),a.document.parts}const Ee="https://storage.googleapis.com/part_diagrams/99NB";async function je(e){const t=e.concat(".jpg");return Ee.concat("/",t)}function ee(e,t,l){const n=e.slice();return n[2]=t[l],n}function te(e,t,l){const n=e.slice();return n[7]=t[l],n}function ne(e,t,l){const n=e.slice();return n[10]=t[l],n}function Le(e){let t,l,n;return{c(){t=m("p"),l=P("No parts found for ID "),n=P(e[2])},m(o,r){v(o,t,r),u(t,l),u(t,n)},p(o,r){r&4&&S(n,o[2])},d(o){o&&$(t)}}}function Se(e){let t,l,n,o,r,i,a,y,p,k,b=Object.keys(e[0]),h=[];for(let f=0;f<b.length;f+=1)h[f]=fe(ee(e,b,f));return{c(){t=m("h2"),l=P(e[2]),n=w(),o=m("img"),i=w(),a=m("table"),y=m("thead"),y.innerHTML=`<tr><th>ID</th> 
          <th>Part Number</th> 
          <th>Part Name</th> 
          <th>Qty</th> 
          <th>Ex Info</th></tr>`,p=w(),k=m("tbody");for(let f=0;f<h.length;f+=1)h[f].c();W(o.src,r=e[1])||L(o,"src",r),L(o,"alt",e[2]),L(a,"id","main")},m(f,_){v(f,t,_),u(t,l),v(f,n,_),v(f,o,_),v(f,i,_),v(f,a,_),u(a,y),u(a,p),u(a,k);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(k,null)},p(f,_){if(_&4&&S(l,f[2]),_&2&&!W(o.src,r=f[1])&&L(o,"src",r),_&4&&L(o,"alt",f[2]),_&1){b=Object.keys(f[0]);let c;for(c=0;c<b.length;c+=1){const g=ee(f,b,c);h[c]?h[c].p(g,_):(h[c]=fe(g),h[c].c(),h[c].m(k,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=b.length}},d(f){f&&$(t),f&&$(n),f&&$(o),f&&$(i),f&&$(a),F(h,f)}}}function le(e){let t,l,n=(e[0][e[2]][e[10]]||"-")+"",o,r;return{c(){t=m("tr"),l=m("td"),o=P(n),r=w()},m(i,a){v(i,t,a),u(t,l),u(l,o),u(t,r)},p(i,a){a&1&&n!==(n=(i[0][i[2]][i[10]]||"-")+"")&&S(o,n)},d(i){i&&$(t)}}}function oe(e){let t=e[0][e[2]].hasOwnProperty(e[10]),l,n=t&&le(e);return{c(){n&&n.c(),l=ae()},m(o,r){n&&n.m(o,r),v(o,l,r)},p(o,r){r&1&&(t=o[0][o[2]].hasOwnProperty(o[10])),t?n?n.p(o,r):(n=le(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(o){n&&n.d(o),o&&$(l)}}}function re(e){let t,l,n=(e[0][e[2]][e[7]]||"-")+"",o,r;return{c(){t=m("tr"),l=m("td"),o=P(n),r=w()},m(i,a){v(i,t,a),u(t,l),u(l,o),u(t,r)},p(i,a){a&1&&n!==(n=(i[0][i[2]][i[7]]||"-")+"")&&S(o,n)},d(i){i&&$(t)}}}function ie(e){let t=e[0][e[2]].hasOwnProperty(e[7]),l,n=t&&re(e);return{c(){n&&n.c(),l=ae()},m(o,r){n&&n.m(o,r),v(o,l,r)},p(o,r){r&1&&(t=o[0][o[2]].hasOwnProperty(o[7])),t?n?n.p(o,r):(n=re(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(o){n&&n.d(o),o&&$(l)}}}function fe(e){let t,l,n=e[2]+"",o,r,i,a,y,p,k=(e[0][e[2]].partname||"-")+"",b,h,f,_=(e[0][e[2]].qty||"-")+"",c,g,E,z,G,U=["partno","partno2","partno3","partno4","partno5"],O=[];for(let d=0;d<5;d+=1)O[d]=oe(ne(e,U,d));let H=["exinfo","exinfo2","exinfo3","exinfo4","exinfo5"],N=[];for(let d=0;d<5;d+=1)N[d]=ie(te(e,H,d));return{c(){t=m("tr"),l=m("td"),o=P(n),r=w(),i=m("td"),a=m("table");for(let d=0;d<5;d+=1)O[d].c();y=w(),p=m("td"),b=P(k),h=w(),f=m("td"),c=P(_),g=w(),E=m("td"),z=m("table");for(let d=0;d<5;d+=1)N[d].c();G=w()},m(d,j){v(d,t,j),u(t,l),u(l,o),u(t,r),u(t,i),u(i,a);for(let s=0;s<5;s+=1)O[s]&&O[s].m(a,null);u(t,y),u(t,p),u(p,b),u(t,h),u(t,f),u(f,c),u(t,g),u(t,E),u(E,z);for(let s=0;s<5;s+=1)N[s]&&N[s].m(z,null);u(t,G)},p(d,j){if(j&1&&n!==(n=d[2]+"")&&S(o,n),j&1){U=["partno","partno2","partno3","partno4","partno5"];let s;for(s=0;s<5;s+=1){const q=ne(d,U,s);O[s]?O[s].p(q,j):(O[s]=oe(q),O[s].c(),O[s].m(a,null))}for(;s<5;s+=1)O[s].d(1)}if(j&1&&k!==(k=(d[0][d[2]].partname||"-")+"")&&S(b,k),j&1&&_!==(_=(d[0][d[2]].qty||"-")+"")&&S(c,_),j&1){H=["exinfo","exinfo2","exinfo3","exinfo4","exinfo5"];let s;for(s=0;s<5;s+=1){const q=te(d,H,s);N[s]?N[s].p(q,j):(N[s]=ie(q),N[s].c(),N[s].m(z,null))}for(;s<5;s+=1)N[s].d(1)}},d(d){d&&$(t),F(O,d),F(N,d)}}}function Ae(e){let t,l,n,o,r,i,a,y,p,k,b,h;function f(g,E){if(g[0])return Se;if(g[2])return Le}let _=f(e),c=_&&_(e);return{c(){t=m("main"),l=m("h1"),l.textContent="Part Lookup",n=w(),o=m("form"),r=m("label"),i=P(`ID:
      `),a=m("input"),y=w(),p=m("button"),p.textContent="Search",k=w(),c&&c.c(),L(a,"type","text"),L(p,"type","submit")},m(g,E){v(g,t,E),u(t,l),u(t,n),u(t,o),u(o,r),u(r,i),u(r,a),Y(a,e[2]),u(o,y),u(o,p),u(t,k),c&&c.m(t,null),b||(h=[X(a,"input",e[4]),X(o,"submit",e[3])],b=!0)},p(g,[E]){E&4&&a.value!==g[2]&&Y(a,g[2]),_===(_=f(g))&&c?c.p(g,E):(c&&c.d(1),c=_&&_(g),c&&(c.c(),c.m(t,null)))},i:T,o:T,d(g){g&&$(t),c&&c.d(),b=!1,D(h)}}}function Ie(e,t,l){let n="",o=null,r="";async function i(y){y.preventDefault(),l(0,o=await Pe(n)),l(1,r=await je(n))}function a(){n=this.value,l(2,n)}return[o,r,n,i,a]}class Ce extends Ne{constructor(t){super(),Oe(this,t,Ie,Ae,de,{})}}new Ce({target:document.getElementById("app")});
